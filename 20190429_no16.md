[:contents]

### AWSサービスを理解しよう！

何か久しぶりなような？AWSの製品一覧も日々更新されているようなので、それも見つつ１つ１つ書いて行こうと思います。今回は"ブロックチェーン"です。

### カテゴリ：ブロックチェーン

AWSが提供するブロックチェーンサービスになります。ブロックチェーンとは何なんでしょう？自分もいまいち分かってないので改めて調べてみました。

#### ブロックチェーンとは

取り合えずWikipediaの引用を載せときます。
> ブロックチェーン（英語: Blockchain、ブロックチェインとも）とは、分散型台帳技術、または、分散型ネットワークである。ビットコインの中核技術（サトシ・ナカモトが開発）を原型とするデータベースである。

また、技術的概要でこんなことが書かれています。
> ブロックチェーンは、「ブロック」と呼ばれるデータの単位を生成し、鎖（チェーン）のように連結していくことによりデータを保管するデータベースである。

正直、上の引用だと全然ピンとこなかったので、さらに調べたところ自分の理解は下のような感じでした。

- 分散型台帳技術＝ブロックチェーンではない
- ブロックチェーンは、分散型台帳技術を使った手法の一種
- ブロックチェーンは、データの持ち方としてブロック単位でデータを持ちチェーンと言われるもので各ブロックを結んでいるのがブロックチェーンの特徴

文章で書くと分かり辛いので図に頼るとこんな感じです。

![](2019-05-05-17-39-24.png)

データの持ち方部分が、”手法の一種”として細分化されたところなのだと思います。

あとWikipediaの引用には『または、分散型ネットワーク』とありますが、分散型システムのネットワークは分散ネットワークなので紛らわしいからこの文章いらない感じがしました。

ここでは、分散ネットワークの話はちょっと置いといて、分散型台帳技術とブロックチェーンの仕組みの話を記載して本題のAWSサービスの話をして行きたいと思います。

##### 分散型台帳技術

Distributed Ledger Technology (DLT)。データを不特定多数の場所で保管し特定の管理者なしに参加する人達が同じデータを共有する、分散して台帳（データ）を管理する技術。台帳と書いてあるのでついつい紙の売り買い帳簿を連想してしまうのですが、台帳＝データですね。もうちょっとイメージしやすいように例を箇条書きしてみました。

- まず、あるルールで定義した台帳((容器は、DBでもNoSQLでもテキストでもOK))を不特定多数の参加者が用意する
- 各参加者が台帳にデータを書き込む
- 各所にある台帳をPeer to Peerネットワークを使い共有

雑な言い方をすると、データを分散して持ちネットワークで共有すれば分散型台帳技術かなと。

##### ブロックチェーンの仕組み

『データをブロックという単位に分けてチェーンというもので繋ぐ技術』なんですが、ブロックってどんな単位？やチェーンで繋ぐってなんなの？と疑問は尽きないので、少し具体的に書いていこうと思います。

###### ブロックってどんな単位？

ビットコインを例に書くと、仮想通貨をやり取りする際の取引履歴データをトランザクションと呼んでいて、一定数のトランザクションを１ブロックと定義しています。

取引履歴（トランザクション）データにはこんなデータ格納されているようです。

- 送金アドレス
- 受金アドレス
- 送金に指定した合計BTC
- トランザクションのステータス（確認 or 未確認）
- 手数料も含めた送金の総合計BTC
- 送金にかかった手数料
- トランザクションのデータサイズ
- トランザクションID



ブロックチェーンは、パブリックブロックチェーンと分散型台帳技術に分類される
